# PRD: AI 마트 - 문제 해결 기반 전자상거래 🛒

## 1. 프로젝트 개요

### 1.1 목적
사용자가 겪고 있는 문제를 말하면 AI가 필요한 질문을 하고, 최적의 제품을 찾아 추천하는 새로운 형태의 쇼핑 경험 제공

### 1.2 핵심 컨셉
**"제품을 찾는 것이 아니라, 문제를 해결한다"**

기존 쇼핑몰: 사용자가 이미 원하는 제품을 알고 있음
AI 마트: 사용자는 문제만 말하면 AI가 해결책 제품을 찾아줌

### 1.3 타겟 사용자
- **Primary**: 20-40대 온라인 쇼핑 활발한 사용자
- **Secondary**: 제품 선택에 어려움을 겪는 사용자
- 특히: 재택근무자, 신혼부부, 1인 가구

### 1.4 시장 기회
- 국내 이커머스 시장: 200조원+
- 문제 → 해결책 방식은 **구매 전환율이 높음**
- 제휴 마케팅 수수료: 3-10%

---

## 2. 기술 스택

### 2.1 Frontend
- **Next.js 15** (App Router)
- **React 19**
- **TypeScript 5**
- **Tailwind CSS 4**
- **Zustand** - 상태 관리

### 2.2 AI & APIs
- **Gemini API** - 질문 생성, 제품 추천 로직, 비교 분석
- **Perplexity API** - 제품 검색, 리뷰 분석, 최신 정보
- **쿠팡 파트너스 API** - 제품 정보, 구매 링크
- **네이버 쇼핑 API** - 가격 비교
- **아마존 어소시에이트** - 해외 제품

### 2.3 Backend
- **MongoDB** - 검색 히스토리, 유저 프로필
- **Redis** - 캐싱
- **Netlify Functions** or **Vercel Serverless**

### 2.4 배포
- **Vercel** or **Netlify**

---

## 3. 주요 기능

### 3.1 문제 입력 & AI 질문 생성 (MVP - P0)
**우선순위: P0**

#### 기능 설명
사용자가 자연어로 문제를 말하면 AI가 필요한 추가 질문을 자동 생성

#### 사용자 플로우

**Step 1: 문제 입력**
```
┌─────────────────────────────────────┐
│  어떤 문제를 해결하고 싶으신가요?    │
│                                     │
│  [텍스트 입력창]                     │
│  예: "재택근무 하는데 허리가 아파요" │
│                                     │
│  [해결책 찾기 →]                     │
└─────────────────────────────────────┘
```

**Step 2: AI 질문 생성**
```
Gemini가 다음 질문들을 생성:

1. 💰 예산은 어느 정도인가요?
   ○ 5만원 이하
   ○ 5-20만원
   ○ 20-50만원
   ○ 50만원 이상

2. 📏 공간은 어느 정도 되나요?
   ○ 좁은 공간 (원룸)
   ○ 보통 (투룸)
   ○ 넓은 공간

3. 🎨 선호하는 스타일은?
   ○ 모던
   ○ 미니멀
   ○ 북유럽
   ○ 상관없음

4. ⚡ 급하게 필요한가요?
   ○ 오늘 도착 필요
   ○ 2-3일 OK
   ○ 일주일 이내
```

**Step 3: 답변 입력**
사용자가 각 질문에 답변

#### 기술 스펙

**Gemini 프롬프트**:
```
User Problem: "재택근무 하는데 허리가 아파요"

Task: Generate 3-5 clarifying questions to find the best product solution.
Consider:
- Budget
- Space constraints
- Style preferences
- Urgency
- Specific needs

Output format:
{
  "questions": [
    {
      "id": 1,
      "text": "예산은 어느 정도인가요?",
      "type": "multiple_choice",
      "options": ["5만원 이하", "5-20만원", "20-50만원", "50만원 이상"],
      "icon": "💰"
    },
    ...
  ]
}
```

---

### 3.2 AI 제품 검색 & 추천 (MVP - P0)
**우선순위: P0**

#### 기능 설명
Perplexity로 실시간 제품 정보를 검색하고, Gemini가 최적의 제품을 추천

#### 사용자 플로우

**Step 4: AI 검색 중**
```
┌─────────────────────────────────────┐
│  🔍 AI가 해결책을 찾고 있어요...    │
│                                     │
│  [로딩 애니메이션]                   │
│                                     │
│  ✓ 인체공학 의자 검색 중...          │
│  ✓ 리뷰 분석 중...                   │
│  ✓ 가격 비교 중...                   │
│  ✓ 최적 제품 선정 중...              │
└─────────────────────────────────────┘
```

**Step 5: 추천 결과**
```
┌─────────────────────────────────────┐
│  💡 이 제품들이 도움될 거예요!       │
├─────────────────────────────────────┤
│  [최고 추천] 👑                      │
│  ┌───────────────────────────────┐  │
│  │ [제품 이미지]                  │  │
│  │ 시디즈 T50 인체공학 의자       │  │
│  │ ⭐ 4.8 (2,341 리뷰)           │  │
│  │ 💰 349,000원                  │  │
│  │ 🚚 내일 도착                   │  │
│  │                               │  │
│  │ ✅ 허리 통증 완화              │  │
│  │ ✅ 메쉬 재질 (통풍 좋음)       │  │
│  │ ✅ 예산 범위 내               │  │
│  │                               │  │
│  │ [쿠팡에서 구매] [자세히]       │  │
│  └───────────────────────────────┘  │
│                                     │
│  [대안 1]                            │
│  ┌───────────────────────────────┐  │
│  │ [제품 이미지]                  │  │
│  │ 허먼밀러 세이 체어             │  │
│  │ ⭐ 4.9 (892 리뷰)             │  │
│  │ 💰 1,299,000원 (예산 초과)    │  │
│  │ [자세히]                       │  │
│  └───────────────────────────────┘  │
│                                     │
│  [대안 2] - 저렴한 옵션              │
│  ...                                │
└─────────────────────────────────────┘
```

#### 기술 스펙

**Perplexity 검색 쿼리**:
```
"인체공학 의자 추천 2024 리뷰 허리 통증"
"시디즈 T50 vs 허먼밀러 세이 체어 비교"
"재택근무 의자 20-50만원 추천"
```

**Gemini 추천 로직**:
```
Input:
- Problem: "재택근무 허리 통증"
- Answers: {"budget": "20-50만원", "space": "보통", "style": "모던"}
- Products from Perplexity: [...]

Task: Analyze and recommend top 3 products.
Consider:
1. Match with user needs
2. Budget fit
3. Review ratings
4. Delivery time
5. Return policy

Output:
{
  "recommendations": [
    {
      "rank": 1,
      "product": {...},
      "matchScore": 95,
      "reasons": [
        "예산 범위 내 (349,000원)",
        "허리 통증 완화 기능",
        "4.8 고평점 (2,341 리뷰)"
      ],
      "pros": [...],
      "cons": [...]
    },
    ...
  ]
}
```

---

### 3.3 제품 비교 & 상세 분석 (MVP - P0)
**우선순위: P0**

#### 기능 설명
추천된 제품들을 상세 비교하고 장단점 분석

#### UI 구성
```
┌─────────────────────────────────────┐
│  제품 비교하기                       │
├─────────────────────────────────────┤
│         제품 A    │    제품 B       │
├─────────────────────────────────────┤
│ 가격    349,000원 │  1,299,000원    │
│ 평점    ⭐ 4.8    │  ⭐ 4.9        │
│ 리뷰    2,341개   │  892개          │
│ 배송    내일 도착  │  3일 후         │
│                                     │
│ 장점:                               │
│ ✅ 예산 적합      │  ✅ 최고 품질   │
│ ✅ 빠른 배송      │  ✅ 10년 보증   │
│                                     │
│ 단점:                               │
│ ❌ 보증 짧음      │  ❌ 비쌈        │
│                                     │
│ AI 추천: 예산과 니즈를 고려하면      │
│         제품 A가 더 적합합니다.      │
└─────────────────────────────────────┘
```

---

### 3.4 리뷰 요약 (P1)
**우선순위: P1**

#### 기능 설명
수천 개의 리뷰를 AI가 요약하여 핵심만 보여줌

#### 예시
```
💬 리뷰 요약 (2,341개 분석)

긍정적 리뷰 (85%):
✅ "허리 통증이 정말 줄었어요"
✅ "조립이 쉽고 튼튼해요"
✅ "메쉬 재질이 시원해요"

부정적 리뷰 (15%):
❌ "팔걸이가 약간 불편해요"
❌ "가격이 비싼 편이에요"

⭐ 만족도: 허리 지지력 (4.9/5), 편안함 (4.7/5)
```

---

### 3.5 구매 링크 & 제휴 수익 (P0)
**우선순위: P0 (수익화 핵심)**

#### 기능 설명
제휴 링크를 통한 구매로 수수료 수익 발생

#### 제휴 파트너
- **쿠팡 파트너스**: 3-5% 수수료
- **네이버 쇼핑**: 2-4%
- **아마존 어소시에이트**: 1-10%
- **11번가, 지마켓** 등

#### 가격 비교
```
┌─────────────────────────────────────┐
│  어디서 구매할까요?                  │
├─────────────────────────────────────┤
│  쿠팡      349,000원  [구매하기]     │
│  네이버    352,000원  [구매하기]     │
│  11번가    345,000원  [구매하기] 💰  │
│  지마켓    351,000원  [구매하기]     │
└─────────────────────────────────────┘
```

---

### 3.6 검색 히스토리 & 재추천 (P1)
**우선순위: P1**

#### 기능 설명
- 과거 검색한 문제와 제품 저장
- 관련 제품 재추천
- 가격 변동 알림

---

### 3.7 커뮤니티 & 실제 사용 후기 (P2)
**우선순위: P2**

#### 기능 설명
- AI 마트에서 구매한 사용자들의 실제 후기
- 문제 해결 여부 평가
- 사진/영상 후기

---

## 4. 사용자 플로우 상세

### 전체 플로우
```
1. 문제 입력
   ↓
2. AI 질문 생성 (3-5개)
   ↓
3. 사용자 답변
   ↓
4. Perplexity 제품 검색
   ↓
5. Gemini 추천 분석
   ↓
6. 제품 추천 (Top 3)
   ↓
7. 비교 & 상세 보기
   ↓
8. 구매 (제휴 링크)
   ↓
9. 제휴 수수료 발생
```

### 예시 시나리오 1: 허리 통증
```
문제: "재택근무 하는데 허리가 아파요"
↓
AI 질문:
- 예산? → 20-50만원
- 공간? → 보통
- 스타일? → 모던
↓
추천 제품:
1. 시디즈 T50 (349,000원) ⭐
2. 듀오백 (259,000원)
3. 허먼밀러 세이 (예산 초과, 참고용)
↓
구매: 쿠팡 파트너스 링크
↓
수수료: 349,000원 × 4% = 13,960원
```

### 예시 시나리오 2: 수면 문제
```
문제: "잠을 잘 못 자요"
↓
AI 질문:
- 수면 패턴? → 자주 깸
- 예산? → 10-30만원
- 선호 제품? → 매트리스 토퍼 or 베개
↓
추천:
1. 템퍼 베개 (89,000원)
2. 메모리폼 토퍼 (129,000원)
3. 수면 등 (35,000원)
↓
리뷰 요약: "목 통증 완화", "숙면 도움"
```

---

## 5. 데이터 모델

### 5.1 Problem
```typescript
interface Problem {
  id: string;
  userId: string;
  description: string;
  category: string; // '건강', '생활', '취미' 등
  createdAt: Date;
}
```

### 5.2 Question
```typescript
interface Question {
  id: string;
  problemId: string;
  text: string;
  type: 'multiple_choice' | 'text' | 'range';
  options?: string[];
  answer?: string;
}
```

### 5.3 Product
```typescript
interface Product {
  id: string;
  name: string;
  price: number;
  rating: number;
  reviewCount: number;
  imageUrl: string;
  affiliateLinks: {
    platform: string; // 'coupang', 'naver', etc
    url: string;
    commission: number;
  }[];
  specifications: Record<string, string>;
}
```

### 5.4 Recommendation
```typescript
interface Recommendation {
  id: string;
  problemId: string;
  products: {
    productId: string;
    rank: number;
    matchScore: number;
    reasons: string[];
    pros: string[];
    cons: string[];
  }[];
  createdAt: Date;
}
```

---

## 6. API 스펙

### 6.1 문제 분석 & 질문 생성
```
POST /api/analyze-problem

Request:
{
  "problem": "재택근무 하는데 허리가 아파요"
}

Response:
{
  "problemId": "uuid",
  "category": "건강/생활",
  "questions": [...]
}
```

### 6.2 제품 추천
```
POST /api/recommend-products

Request:
{
  "problemId": "uuid",
  "answers": {
    "budget": "20-50만원",
    "space": "보통",
    ...
  }
}

Response:
{
  "recommendations": [
    {
      "rank": 1,
      "product": {...},
      "matchScore": 95,
      "reasons": [...],
      "affiliateLinks": [...]
    }
  ]
}
```

### 6.3 리뷰 요약
```
GET /api/reviews/summary?productId=xxx

Response:
{
  "totalReviews": 2341,
  "averageRating": 4.8,
  "positiveSentiment": 0.85,
  "topPositives": [...],
  "topNegatives": [...],
  "summary": "..."
}
```

---

## 7. 개발 일정

### Phase 1: MVP (4주)
- [Week 1] 문제 입력 & AI 질문 생성
  - Gemini API 연동
  - 질문 생성 로직
  - 기본 UI

- [Week 2] 제품 검색 & 추천
  - Perplexity API 연동
  - 쿠팡 파트너스 API 연동
  - 제품 검색 알고리즘

- [Week 3] 추천 결과 UI
  - 제품 카드 UI
  - 비교 기능
  - 제휴 링크 연동

- [Week 4] 배포 & 테스트
  - Vercel 배포
  - 베타 테스트
  - 버그 수정

### Phase 2: 성장 (4주)
- 리뷰 요약 기능
- 검색 히스토리
- 유저 인증
- 가격 변동 알림

### Phase 3: 확장 (6주)
- 커뮤니티 & 후기
- 관리자 대시보드
- 제품 추가 제휴사 연동
- 모바일 앱

**총 예상 기간: 14주 (약 3.5개월)**

---

## 8. 비즈니스 모델

### 8.1 제휴 마케팅 (Primary)
- 쿠팡 파트너스: 3-5%
- 네이버 쇼핑: 2-4%
- 아마존: 1-10%

**예상 수익 계산**:
- 월 방문자: 10,000명
- 구매 전환율: 5%
- 평균 구매액: 100,000원
- 평균 수수료율: 4%
- **월 수익**: 10,000 × 5% × 100,000 × 4% = **2,000,000원**

### 8.2 프리미엄 (Secondary)
- **Free**: 월 5회 검색
- **Premium**: 월 9,900원
  - 무제한 검색
  - 가격 변동 알림
  - 우선 추천

---

## 9. 성공 지표 (KPI)

### 9.1 사용자 지표
- MAU: 10,000+ (6개월)
- 문제 해결 검색 수: 50,000+/월
- 구매 전환율: 5%+
- 재방문율: 40%+

### 9.2 비즈니스 지표
- 월 제휴 수익: 200만원+ (6개월)
- 평균 주문 금액: 10만원+
- 클릭율 (CTR): 15%+

---

## 10. 리스크 및 대응

### 10.1 API 비용
- **리스크**: Perplexity/Gemini 비용 증가
- **대응**: 캐싱, 무료 티어 제한

### 10.2 제휴 승인
- **리스크**: 제휴 파트너 승인 어려움
- **대응**: 초기 실적 쌓기, 다양한 파트너

### 10.3 정확성
- **리스크**: AI 추천이 부정확
- **대응**: 유저 피드백 반영, 알고리즘 개선

---

## 11. 차별화 포인트

| 기존 쇼핑몰 | AI 마트 |
|---|---|
| 제품 검색 | 문제 해결 |
| 제품명 입력 | 자연어 입력 |
| 수동 비교 | AI 자동 비교 |
| 리뷰 수동 읽기 | AI 요약 |
| 낮은 전환율 | 높은 전환율 |

---

## 12. 마케팅 전략

- 블로그 SEO: "허리 아플 때 추천", "불면증 해결 제품"
- 유튜브: "AI가 추천하는 제품"
- 틱톡: 비포/애프터 영상
- 커뮤니티: 후기 공유

---

## 13. 다음 단계

1. ✅ PRD 검토
2. Perplexity & Gemini API 테스트
3. 쿠팡 파트너스 승인
4. MVP 개발 시작
5. 베타 런칭
